pipeline {
    agent {label'master'}
       tools {
         maven 'M3'
         jdk 'JAVA_HOME'
     }

     stages {
        stage ('cloning') {
          steps {
            giturl:'                                '
        }
     }
        
        stage ('Build') {
          steps {
             echo 'Building'
             sh 'mvn clean'
             sh 'mvn install'
          }
       }
        stage ('Test') {
          steps {
             echo 'Testing'
          }
        }
        stage ('Building Docker Image') {
          steps {
             echo 'Building  Docker Image'
            sh '$(aws ecr get-login --no-include-email --region ap-northeast-1)'
            sh 'docker build -t nazecr.'
          }
          
       }
